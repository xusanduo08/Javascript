#### 前端工程化

将软件工程的方法和原理运用在前端开发中，目的是实现__高效开发，有效协同，质量可控__。

前端工程化是为了提升业务效率

狭义的讲，前端工程化是指将开发阶段的代码转变成生产环境的代码的一系列步骤。主要包括__构建，分支管理，自动化测试，部署__等。

##### 前端工程化的具体内容：

* 代码规范：保证团队所有成员以同样的规范开发代码
* 分支管理：不同的开发人员开发不同的功能或组件，按照统一的流程合并到主干。
* 模块管理：一方面，团队引用的模块应该是规范；另一方面，必须保证这些模块可以正确的加入到最终编译好的包文件中。
* 自动化测试：为了保证和并进主干的代码达到质量标准，必须有测试，而且测试应该是自动化的，可以回归的。
* 构建：主干更新后，自动将代码编译为最终的目标格式，并且准备好各种静态资源
* 部署：将构建好的代码部署到生产环境。



一个人开发时，使用一些工具来提升自己的效率——工程化最初阶段（工具化）

多人协同开发时，大家需要约定一些规范，所有人都需要遵守规范——规范化

当协同规模再大一点时（几十人），规范的落地变得有难度，通过一个流程的方式来保障———流程化

当协同人员数量到几百甚至上千的时候，就会形成一个一个小技术圈子，开始出现能力的重复建设和内耗，这个时候就需要对日常研发过程中的所需能力进行分层，抽象出来的基础能力通过某个平台来承载，其他业务或团队基于抽象出来的能力进行二次开发——中台化

##### 前端工程化面临的问题：

从开发角度，要解决的问题包括：

1.提高开发生产效率

2.降低维护难度

这两个问题的解决方法有两点：

1.制定开发规范，提高团队协作能力

2.分治。软件工程中有个很重要的概念叫做模块化开发，其中心思想就是分治

从部署角度，要解决的问题主要是资源管理，包括：

1.代码审查

2.压缩打包

3.增量更新

4.单元测试

要解决上述问题，需要引入构建/编译阶段。

##### 静态资源的构建策略

静态资源包括js/css/图片等文件，随着一些新规范和css预编译器的普及，通常开发阶段的静态资源是：

1.es6/7规范文件

2.less/sass等文件

3.独立的小图标，在构建阶段使用工具处理成spirit图片。

在构建阶段处理这些静态文件时，基本的功能应包括：

1.es6/7转译，比如babel

2.将less/sass编译成css

3.spirit图片生成

静态资源的构建还需要考虑web应用的__性能因素__。比如开发阶段使用的组件化开发模式，每个组件有独立的js/css/图片等文件，如果不做处理每个文件独立上线的话，无疑会增加http请求的数量，从而影响web应用的性能表现。针对诸如此类的问题，构建阶段需要包括以下功能：

1.依赖打包。分析文件依赖关系，将同步依赖的文件打包在一起，减少http请求数量；

2.资源嵌入。比如小于10kb的图片编译为base64格式嵌入文档，减少一次http请求；

3.文件压缩，减少文件体积；

4.hash指纹，通过给文件加入hash指纹，以应对浏览器缓存引起的静态资源更新问题；

5.代码审查，避免线上文件的低级错误

##### 模板的构建策略

模板和静态资源时容器-模板关系。模板直接引用静态资源，经过构建后，静态资源的改动有以下几点：

1.url改变。开发环境与线上环境的url肯定是不同的，不同类型的资源甚至根据项目的CDN策略放在不同的服务器上

2.文件名改变。静态资源经过构建之后，文件名被加上hash指纹，内容的改动导致hash指纹的改变。

对于模板的构建宗旨是__静态资源url和文件名改变后，同步更新模板中资源的引用地址__。



##### 一个完整的前端工程体系应该包括：

1.统一的开发规范

2.组件化开发

3.构建流程

开发规范和组件化开发面向开发阶段，宗旨是提高团队协作能力，提高开发效率并降低维护成本

构建工具和平台解决了web产品一些列的工程问题，旨在提高web产品的性能表现，提高开发效率。

https://www.cnblogs.com/ihardcoder/p/5378290.html

https://www.infoq.cn/article/Kpd_C06scWePcO8fB7ex

https://juejin.im/post/58ac334e8d6d810058c103e0