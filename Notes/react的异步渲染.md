#### react的异步渲染

（题目起的有点大，不知道坑能不能填满）

浏览器的js执行引擎和渲染引擎是互斥的，同一时间只会有一个引擎在运作。

react的在渲染页面前先要构建虚拟DOM，如果是更新的话就要比较新旧虚拟DOM的变化，然后有选择的去更新页面。这就导致了一个问题，假设页面上有一个动画，因为动画的状态不断变化，所以对应的虚拟DOM也就不断变化，那么react就会不停的去进行虚拟DOM的diff过程。这使得js引擎一直或者说大部分时间都占用着浏览器的主线程，使得渲染引擎没法及时去渲染页面的变化。从视觉上的直观感受就是动画有卡顿（掉帧）。

为了解决上面说的问题，react提出了异步渲染的解决方法。react在执行某一任务时会将该任务分段去执行，每段执行完毕后将浏览器交给渲染引擎渲染页面变化，从而使得页面能及时反映出该有的变化。





https://github.com/funfish/blog/issues/31